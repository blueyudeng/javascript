<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/index.css">
</head>

<body>
    <header>
        <div class="header-outop">
            <div class="header-top">
                <div class="top-left">
                    <p>尚品汇欢迎您</p>
                    <p>请<a href="#">登录</a></p>
                    <p><a href="#">免费注册</a></p>
                </div>
                <ul class="top-right">
                    <li><a href="#">我的订单</a></li>
                    <li><a href="#">我的购物车</a></li>
                    <li><a href="#">我的尚品汇</a></li>
                    <li><a href="#">尚品汇会员</a></li>
                    <li><a href="#">企业采购</a></li>
                    <li><a href="#">关注尚品汇</a></li>
                    <li><a href="#">合作招聘</a></li>
                    <li><a href="#">商家后台</a></li>
                </ul>
            </div>
        </div>

        <div class="header-center">
            <div class="left"></div>
            <div class="right"><input type="text"> <button>搜索</button></div>
        </div>

        <ul class="header-boot">
            <li><span>所有商品分类</span></li>
            <li><a href="#">服装城</a></li>
            <li><a href="#">美妆馆</a></li>
            <li><a href="#">尚品汇超市</a></li>
            <li><a href="#">全球购</a></li>
            <li><a href="#">闪购</a></li>
            <li><a href="#">团购</a></li>
            <li><a href="#">有趣</a></li>
            <li><a href="#">秒杀</a></li>
        </ul>
    </header>
    <nav>
        <div class="nav-right">
            <div class="nav-top">
            </div>
            <ul class="nav-center">
                <li>
                    <i></i>
                    <p>商品会员</p>
                </li>
                <li>
                    <i></i>
                    <p>购物车</p>
                </li>
                <li>
                    <i></i>
                    <p>我的会员</p>
                </li>
                <li>
                    <i></i>
                    <p>我的足迹</p>
                </li>
                <li>
                    <i></i>
                    <p>我的消息</p>
                </li>
                <li>
                    <i></i>
                    <p>联系我们</p>
                </li>
            </ul>
            <div class="nav-boot"></div>
        </div>


    </nav>
    <section class="choice-ip">
        <div class="choice-left">
            <p class="ip-p"><a href="#">手机、数码、通讯手机</a>/<a href="#">Apple苹果</a>/<a href="#">iphone 6S系类</a></p>

            <div class="choice-imgl">
                <!-- 小图区域 -->
                <div class="minimg">
                    <img src="./images/s1.png" alt="" class="imgl">
                    <!-- 蒙版区域 -->
                    <div class="choice-imgmb">
                    </div>
                </div>
                <div class="choice-imgr">
                    <!-- 大图区域 -->
                    <img src="./images/b1.png" alt="" class=".imgr">
                </div>
            </div>
            <div class="choice-oucar">
                <p class="left">&lt;</p>
                <div class="choice-oucars">
                    <ul class="choice-car">
                        <!--   <li><img src="./images/s1.png" alt=""></li>
                        <li><img src="./images/s2.png" alt=""></li>
                        <li><img src="./images/s3.png" alt=""></li>
                        <li><img src="./images/s1.png" alt=""></li>
                        <li><img src="./images/s2.png" alt=""></li>
                        <li><img src="./images/s3.png" alt=""></li>
                        <li><img src="./images/s1.png" alt=""></li>
                        <li><img src="./images/s2.png" alt=""></li>
                        <li><img src="./images/s3.png" alt=""></li>
                        <li><img src="./images/s1.png" alt=""></li>
                        <li><img src="./images/s2.png" alt=""></li>
                        <li><img src="./images/s3.png" alt=""></li>
                        <li><img src="./images/s1.png" alt=""></li>
                        <li><img src="./images/s2.png" alt=""></li>
                        <li><img src="./images/s3.png" alt=""></li>
                        <li><img src="./images/s1.png" alt=""></li>
                        <li><img src="./images/s2.png" alt=""></li>
                        <li><img src="./images/s3.png" alt=""></li>
                        <li><img src="./images/s3.png" alt=""></li>
                        <li><img src="./images/s3.png" alt=""></li> -->
                    </ul>
                </div>
                <p class="right">&gt;</p>
            </div>
        </div>
        <div class="choice-right">
            <div class="choice-righttop">
                <!-- <p class="right-p">Apple iPhone 6s（A1700）64G玫瑰金色 移动通信电信4G手机</p>
                <p class="right-p">推荐选择下方[移动优惠购],手机套餐齐搞定,不用换号,每月还有花费返</p>
                <div class="choice-rbox">
                    <div class="choice-rboxtop">
                         <p>价&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;格</p>
                        <p>￥<span>5000</span>元</p>
                    </div>
                    <div class="choice-rboxcenter">
                        <p>促&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;销</p>
                        <p><span>减价购</span>满999.00另加20.00元，或满1999.00另加30.00元，或满2999.00另加40.00元，即可在购物车换购热销商品</p>
                    </div>
                </div>
                <div class="choice-rboxbot">
                    <p>支&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;持&nbsp;&nbsp;&nbsp;以旧换新，闲置手机回收 4G套餐超值抢 礼品购</p>
                    <p>配 送 至&nbsp;&nbsp;&nbsp;
                        广东省 深圳市 宝安区</p>
                </div>  -->
            </div>
            <!-- <div></div> -->
            <div class="right-dl">
                <!-- <dl>
                    <dt>选择颜色</dt>
                    <dd>黄金色</dd>
                    <dd>银色</dd>
                    <dd>黑色</dd>
                </dl>
                <dl>
                    <dt>内存容量</dt>
                    <dd>16G</dd>
                    <dd>64G</dd>
                    <dd>128G</dd>
                    <dd>256G</dd>
                </dl>
                <dl>
                    <dt>选择版本</dt>
                    <dd>公开版</dd>
                    <dd>移动版</dd>
                </dl>
                <dl>
                    <dt>购买方式</dt>
                    <dd>官方标配</dd>
                    <dd>优惠移动版</dd>
                    <dd>电信优惠版</dd>
                </dl> -->
            </div>
            <div class="choice-gosh">
                <div class="choice-ipt">
                    <input type="text" value="1">
                    <button class="plus">+</button>
                    <button class="mins">-</button>
                </div>
                <div class="choice-go">
                    <span>加入购物车</span>
                </div>
            </div>

        </div>
    </section>

    <section class="choice-bott">
        <div class="bott-left">
            <div class="bott-left-top">
                <div class="top-left active">
                    <span>相关分类</span>
                </div>
                <div class="top-right">
                    <span>推荐品牌</span>
                </div>
            </div>
            <div class="bot-left-bot">
                <div class="bot-bot-left ">
                    <ul class="bott-center">
                        <li><a href="#">手机 </a><a href="#">手机壳</a></li>
                        <li><a href="#">内存卡</a><a href="#">iphone配件</a></li>
                        <li><a href="#">贴膜</a><a href="#">手机耳机</a></li>
                        <li><a href="#">移动电源</a><a href="#">平板电脑</a></li>
                    </ul>
                    <div class="bott-outbot">
                        <div class="bott-bot">
                            <img src="./images/part01.png" alt="">
                            <p>Apple苹果iPhone 6s (A1699)</p>
                            <p>¥6088.00</p>
                            <div><a href="#">加入购物车</a></div>
                        </div>
                        <div class="bott-bot">
                            <img src="./images/part01.png" alt="">
                            <p>Apple苹果iPhone 6s (A1699)</p>
                            <p>¥6088.00</p>
                            <div><a href="#">加入购物车</a></div>
                        </div>
                        <div class="bott-bot">
                            <img src="./images/part01.png" alt="">
                            <p>Apple苹果iPhone 6s (A1699)</p>
                            <p>¥6088.00</p>
                            <div><a href="#">加入购物车</a></div>
                        </div>
                        <div class="bott-bot">
                            <img src="./images/part01.png" alt="">
                            <p>Apple苹果iPhone 6s (A1699)</p>
                            <p>¥6088.00</p>
                            <div><a href="#">加入购物车</a></div>
                        </div>
                        <div class="bott-bot">
                            <img src="./images/part01.png" alt="">
                            <p>Apple苹果iPhone 6s (A1699)</p>
                            <p>¥6088.00</p>
                            <div><a href="#">加入购物车</a></div>
                        </div>
                    </div>
                </div>
                <div class="bot-bot-right active">
                    <span>推荐品牌</span>
                </div>
            </div>


        </div>
        <div class="bott-right">
            <div class="right-top">
                <div class="top-header">
                    <span>选择搭配</span>
                </div>
                <div class="right-bot">
                    <ul>
                        <li><img src="./images/l-m01.png" alt=""></li>
                        <li><span class="duole">￥5299</span></li>
                    </ul>
                    <p>+</p>
                    <ul>
                        <li><img src="./images/dp01.png" alt=""></li>
                        <li><span>Feless费勒斯VR</span></li>
                        <li>
                            <label>
                                <input type="checkbox" value="39">
                                <span>39</span>
                            </label>
                        </li>
                    </ul>
                    <ul>
                        <li><img src="./images/dp02.png" alt=""></li>
                        <li><span>Feless费勒斯VR</span></li>
                        <li>
                            <label>
                                <input type="checkbox" value="50">
                                <span>50</span>
                            </label>
                        </li>
                    </ul>
                    <ul>
                        <li><img src="./images/dp03.png" alt=""></li>
                        <li><span>Feless费勒斯VR</span></li>
                        <li>
                            <label>
                                <input type="checkbox" value="59">
                                <span>59</span>
                            </label>
                        </li>
                    </ul>
                    <ul>
                        <li><img src="./images/dp04.png" alt=""></li>
                        <li><span>Feless费勒斯VR</span></li>
                        <li>
                            <label>
                                <input type="checkbox" value="99">
                                <span>99</span>
                            </label>
                        </li>
                    </ul>
                    <ul class="bot-bot">
                        <li>已选购<span>0</span>件商品</li>
                        <li><span>套餐价</span></li>
                        <li><span>￥5299</span></li>
                        <li><a href="#">加入购物车</a></li>
                    </ul>
                </div>
            </div>
            <div class="bot-rbot">
                <div class="bot-top">
                    <ul>
                        <li><a href="#">商品介绍</a></li>
                        <li><a href="#">规格与包装</a></li>
                        <li><a href="#">售后保障</a></li>
                        <li><a href="#">商品评价</a></li>
                        <li><a href="#">手机社区</a></li>
                    </ul>
                </div>
                <div class="bot-img">
                    <div class="bot-rbott active">
                        <ul class="bott-top">
                            <li>分辨率：1920*1080(FHD)</li>
                            <li>后置摄像头：1200万像素</li>
                            <li>前置摄像头：500万像素</li>
                            <li>核 数：其他</li>
                            <li>频 率：以官网信息为准</li>
                            <li>品牌： Apple</li>
                            <li>商品名称：APPLEiPhone 6s Plus</li>
                            <li>商品编号：1861098</li>
                            <li>商品产地：中国大陆</li>
                            <li>商品毛重：0.51kg</li>
                            <li>热点：指纹识别，Apple Pay，金属机身，拍照神器</li>
                            <li>系统：苹果（IOS）</li>
                            <li>像素：1000-1600万品毛重：0.51kg</li>
                            <li>机身内存：64GB</li>
                        </ul>
                        <ul>
                            <li><img src="./images/intro01.png" alt=""></li>
                            <li><img src="./images/intro02.png" alt=""></li>
                            <li><img src="./images/intro03.png" alt=""></li>
                        </ul>
                    </div>
                    <div class="tow">
                        <p>规格与包装</p>
                    </div>
                    <div class="there">
                        <p>售后保障</p>
                    </div>
                    <div class="four">
                        <p>商品评价</p>
                    </div>
                    <div class="five">
                        <p>手机社区</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <script src="./js/data.js"></script>
    <script>
        window.addEventListener("DOMContentLoaded", function () {
            //放大镜效果
            //数据库导入li
            DataLi();
            function DataLi() {
                var imgsrc = goodData.imgsrc;
                var oChoicecar = document.querySelector(".choice-car")
                imgsrc.forEach(function (item, index) {
                    //创建一个li
                    var oLi = document.createElement("li")
                    //创建一个img
                    var oImg = new Image();
                    oImg.src = item.s;
                    oLi.appendChild(oImg)
                    oChoicecar.appendChild(oLi)
                })
            }

            //缩略图效果
            Ylsnt();
            function Ylsnt() {
                var oMinimg = document.querySelector(".choice-imgl .minimg");
                var oImgmb = document.querySelector(".choice-imgl .choice-imgmb")
                var oCimgr = document.querySelector(".choice-imgl .choice-imgr")
                var oChoiceimgl = document.querySelector(".choice-imgl .minimg .imgl")
                var oCrimg = document.querySelector(".choice-imgl .choice-imgr img")

                oMinimg.onmousemove = function (e) {
                    oImgmb.style.display = "block"
                    oCimgr.style.display = "block"

                    //蒙版走的距离=鼠标到窗口的距离-父元素到宽口的距离-自身宽度的一半
                    var oMbjl = {
                        left: e.clientX - oChoiceimgl.getBoundingClientRect().left - oImgmb.offsetWidth / 2,
                        top: e.clientY - oChoiceimgl.getBoundingClientRect().top - oImgmb.offsetHeight / 2,
                    }


                    //判断临界值
                    if (oMbjl.left < 0) {
                        oMbjl.left = 0
                    }
                    if (oMbjl.left > oMinimg.clientWidth - oImgmb.offsetWidth) {
                        oMbjl.left = oMinimg.clientWidth - oImgmb.offsetWidth
                    }
                    if (oMbjl.top < 0) {
                        oMbjl.top = 0
                    }
                    if (oMbjl.top > oMinimg.clientHeight - oImgmb.offsetHeight) {
                        oMbjl.top = oMinimg.clientHeight - oImgmb.offsetHeight
                    }

                    oImgmb.style.left = oMbjl.left + "px";
                    oImgmb.style.top = oMbjl.top + "px";


                    //蒙版走的距离/蒙版能走的距离=大图走的距离/大图能走的距离
                    //大图走的距离=蒙版走的距离*大图能走的距离/蒙版能走的距离

                    var Bigjl = {
                        left: oMbjl.left * (oCrimg.clientWidth - oCimgr.offsetWidth) / (oMinimg.clientWidth - oImgmb.offsetWidth),
                        top: oMbjl.top * (oCrimg.clientHeight - oCimgr.offsetHeight) / (oMinimg.clientHeight - oImgmb.offsetHeight)
                    }
                    oCrimg.style.left = -Bigjl.left + "px";
                    oCrimg.style.top = -Bigjl.top + "px";
                }

                oMinimg.onmouseleave = function () {
                    oImgmb.style.display = "none"
                    oCimgr.style.display = "none"
                }

            }

            //点击移动缩略图
            ImgYd();
            function ImgYd() {
                var oBleft = document.querySelector(".choice-oucar p.left")
                var oBright = document.querySelector(".choice-oucar p.right")
                var oList = document.querySelector(".choice-car")
                var oLists = document.querySelectorAll(".choice-car li")
                //设值一个初始值
                var oImgYd = 0;
                //每回走的距离
                var oOne = oLists[0].offsetWidth * 2;
                //总共能走的距离
                var oAjl = (oLists.length - 5) * oLists[0].offsetWidth;
                oBright.onclick = function () {
                    oImgYd += oOne;
                    if (oImgYd > oAjl) {
                        oImgYd = oAjl
                    }
                    oList.style.transform = "translateX(-" + oImgYd + "px)"
                }

                oBleft.onclick = function () {
                    if (oImgYd > oOne) {
                        oImgYd -= oOne
                    } else {
                        oImgYd = 0
                    }
                    oList.style.transform = "translateX(-" + oImgYd + "px)"
                }
            }

            //点击缩列图替换小图
            Thminimg();
            function Thminimg() {
                var oLists = document.querySelectorAll(".choice-car li")
                var oChoiceimgl = document.querySelector(".choice-imgl .minimg .imgl")
                var oCrimg = document.querySelector(".choice-imgl .choice-imgr img")
                var imgsrc = goodData.imgsrc;
                oLists.forEach(function (item, index) {
                    item.onclick = function () {
                        console.log(1);
                        oChoiceimgl.src = imgsrc[index].s
                        oCrimg.src = imgsrc[index].b
                    }
                })
            }

            //商品信息替换数据库
            IponeXx();
            function IponeXx() {
                var goodsDetail = goodData.goodsDetail
                var oRighttop = document.querySelector(".choice-righttop")
                var str = ' <p class="right-p">' + goodsDetail.title + '</p>\
                <p class="right-p">' + goodsDetail.recommend + '</p>\
                <div class="choice-rbox">\
                    <div class="choice-rboxtop">\
                         <p>价&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;格</p>\
                        <p>￥<span>' + goodsDetail.price + '</span>元</p>\
                    </div>\
                    <div class="choice-rboxcenter">\
                        <p>促&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;销</p>\
                        <p><span>' + goodsDetail.promoteSales.type + '</span>' + goodsDetail.promoteSales.content + '</p>\
                    </div>\
                </div>\
                <div class="choice-rboxbot">\
                    <p>支&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;持&nbsp;&nbsp;&nbsp;' + goodsDetail.support + '</p>\
                    <p>配 送 至&nbsp;&nbsp;&nbsp;\
                        ' + goodsDetail.address + '</p>\
                </div>'

                oRighttop.innerHTML = str;
            }

            //商品选购信息替换数据库
            IponeXxs();
            function IponeXxs() {
                var crumbData = goodData.goodsDetail.crumbData;
                var oRightdl = document.querySelector(".right-dl")
                crumbData.forEach(function (item, index) {
                    var oDl = document.createElement("dl")
                    oRightdl.appendChild(oDl)

                    var oDt = document.createElement("dt")
                    oDt.textContent = item.title

                    oDl.appendChild(oDt)

                    item.data.forEach(function (item, index) {
                        oDd = document.createElement("dd")
                        oDd.textContent = item.type;
                        oDl.appendChild(oDd)
                    })
                })
            }

            IponeXxdj();
            function IponeXxdj() {
                var oDl = document.querySelectorAll(".right-dl dl")
                console.log(oDl);
                //遍历所有dl
                oDl.forEach(function (item, index) {
                    //获取每个dl中的dd
                    var oDd = item.querySelectorAll("dd")
                    //遍历dd给dd绑定点击事件
                    oDd.forEach(function (item, index) {
                        item.onclick = function () {
                            // 再遍历一遍当前dl里的dd让所有的dd样式消失
                            oDd.forEach(function (item, index) {
                                item.style.color = "#666"
                            })
                            //让当前dl里dd添加样式
                            this.style.color = "red"
                        }
                    })
                })
            }
        })
    </script>
</body>

</html>